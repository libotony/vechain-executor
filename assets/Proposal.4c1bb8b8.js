import{a as h,P as L,A as R,E as l,n as ut,B as pt,b as dt,c as ft,d as bt,e as ht,_ as g,f as O,i as vt,h as N}from"./index.03e14050.js";import{V as m,bP as yt,bA as mt,m as P,b as n,bQ as et,ac as w,bN as B,C,P as _,bR as rt,aP as Tt,a7 as st,aW as S,aF as M,e as d,W as Ot,b2 as E,a8 as wt,z as F,aQ as gt,bS as at,aa as Y,a6 as kt,ab as St,bT as nt,ad as _t,bU as Pt,bV as Ct,bW as xt,d as At,i as Rt,r as k,n as Vt,B as z}from"./index.0d60b973.js";var jt=m.extend({methods:{hasListener:function(t){var r=this.$listeners||{},s=this._events||{};return!yt(r[t])||mt(s[t])&&s[t].length>0}}});function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(s){$t(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U="light",Q="dark",Et=P({variant:n(_)},et),Ht=m.extend({name:et,mixins:[w,B,C],provide:function(){return{bvTableTr:this}},inject:{bvTableRowGroup:{default:function(){return{}}}},inheritAttrs:!1,props:Et,computed:{inTbody:function(){return this.bvTableRowGroup.isTbody},inThead:function(){return this.bvTableRowGroup.isThead},inTfoot:function(){return this.bvTableRowGroup.isTfoot},isDark:function(){return this.bvTableRowGroup.isDark},isStacked:function(){return this.bvTableRowGroup.isStacked},isResponsive:function(){return this.bvTableRowGroup.isResponsive},isStickyHeader:function(){return this.bvTableRowGroup.isStickyHeader},hasStickyHeader:function(){return!this.isStacked&&this.bvTableRowGroup.hasStickyHeader},tableVariant:function(){return this.bvTableRowGroup.tableVariant},headVariant:function(){return this.inThead?this.bvTableRowGroup.headVariant:null},footVariant:function(){return this.inTfoot?this.bvTableRowGroup.footVariant:null},isRowDark:function(){return this.headVariant===U||this.footVariant===U?!1:this.headVariant===Q||this.footVariant===Q?!0:this.isDark},trClasses:function(){var t=this.variant;return[t?"".concat(this.isRowDark?"bg":"table","-").concat(t):null]},trAttrs:function(){return Dt({role:"row"},this.bvAttrs)}},render:function(t){return t("tr",{class:this.trClasses,attrs:this.trAttrs,on:this.bvListeners},this.normalizeSlot())}});function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(s){Bt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(t){return t=Ot(t,0),t>0?t:null},q=function(t){return st(t)||H(t)>0},Gt=P({colspan:n(M,null,q),rowspan:n(M,null,q),stackedHeading:n(_),stickyColumn:n(d,!1),variant:n(_)},rt),V=m.extend({name:rt,mixins:[w,B,C],inject:{bvTableTr:{default:function(){return{}}}},inheritAttrs:!1,props:Gt,computed:{tag:function(){return"td"},inTbody:function(){return this.bvTableTr.inTbody},inThead:function(){return this.bvTableTr.inThead},inTfoot:function(){return this.bvTableTr.inTfoot},isDark:function(){return this.bvTableTr.isDark},isStacked:function(){return this.bvTableTr.isStacked},isStackedCell:function(){return this.inTbody&&this.isStacked},isResponsive:function(){return this.bvTableTr.isResponsive},isStickyHeader:function(){return this.bvTableTr.isStickyHeader},hasStickyHeader:function(){return this.bvTableTr.hasStickyHeader},isStickyColumn:function(){return!this.isStacked&&(this.isResponsive||this.hasStickyHeader)&&this.stickyColumn},rowVariant:function(){return this.bvTableTr.variant},headVariant:function(){return this.bvTableTr.headVariant},footVariant:function(){return this.bvTableTr.footVariant},tableVariant:function(){return this.bvTableTr.tableVariant},computedColspan:function(){return H(this.colspan)},computedRowspan:function(){return H(this.rowspan)},cellClasses:function(){var t=this.variant,r=this.headVariant,s=this.isStickyColumn;return(!t&&this.isStickyHeader&&!r||!t&&s&&this.inTfoot&&!this.footVariant||!t&&s&&this.inThead&&!r||!t&&s&&this.inTbody)&&(t=this.rowVariant||this.tableVariant||"b-table-default"),[t?"".concat(this.isDark?"bg":"table","-").concat(t):null,s?"b-table-sticky-column":null]},cellAttrs:function(){var t=this.stackedHeading,r=this.inThead||this.inTfoot,s=this.computedColspan,a=this.computedRowspan,i="cell",u=null;return r?(i="columnheader",u=s>0?"colspan":"col"):Tt(this.tag,"th")&&(i="rowheader",u=a>0?"rowgroup":"row"),J(J({colspan:s,rowspan:a,role:i,scope:u},this.bvAttrs),{},{"data-label":this.isStackedCell&&!st(t)?S(t):null})}},render:function(t){var r=[this.normalizeSlot()];return t(this.tag,{class:this.cellClasses,attrs:this.cellAttrs,on:this.bvListeners},[this.isStackedCell?t("div",[r]):r])}});function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var it={stacked:n(E,!1)},Lt=m.extend({props:it,computed:{isStacked:function(){var t=this.stacked;return t===""?!0:t},isStackedAlways:function(){return this.isStacked===!0},stackedTableClasses:function(){var t=this.isStackedAlways;return It({"b-table-stacked":t},"b-table-stacked-".concat(this.stacked),!t&&this.isStacked)}}});function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(s){Nt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ot={bordered:n(d,!1),borderless:n(d,!1),captionTop:n(d,!1),dark:n(d,!1),fixed:n(d,!1),hover:n(d,!1),noBorderCollapse:n(d,!1),outlined:n(d,!1),responsive:n(E,!1),small:n(d,!1),stickyHeader:n(E,!1),striped:n(d,!1),tableClass:n(wt),tableVariant:n(_)},Mt=m.extend({mixins:[w],provide:function(){return{bvTable:this}},inheritAttrs:!1,props:ot,computed:{isResponsive:function(){var t=this.responsive;return t===""?!0:t},isStickyHeader:function(){var t=this.stickyHeader;return t=t===""?!0:t,this.isStacked?!1:t},wrapperClasses:function(){var t=this.isResponsive;return[this.isStickyHeader?"b-table-sticky-header":"",t===!0?"table-responsive":t?"table-responsive-".concat(this.responsive):""].filter(F)},wrapperStyles:function(){var t=this.isStickyHeader;return t&&!gt(t)?{maxHeight:t}:{}},tableClasses:function(){var t=this.hover,r=this.tableVariant;return t=this.isTableSimple?t:t&&this.computedItems.length>0&&!this.computedBusy,[this.tableClass,{"table-striped":this.striped,"table-hover":t,"table-dark":this.dark,"table-bordered":this.bordered,"table-borderless":this.borderless,"table-sm":this.small,border:this.outlined,"b-table-fixed":this.fixed,"b-table-caption-top":this.captionTop,"b-table-no-border-collapse":this.noBorderCollapse},r?"".concat(this.dark?"bg":"table","-").concat(r):"",this.stackedTableClasses,this.selectableTableClasses]},tableAttrs:function(){var t=this.computedItems,r=this.filteredItems,s=this.computedFields,a=this.selectableTableAttrs,i=this.isTableSimple?{}:{"aria-busy":S(this.computedBusy),"aria-colcount":S(s.length),"aria-describedby":this.bvAttrs["aria-describedby"]||this.$refs.caption?this.captionId:null},u=t&&r&&r.length>t.length?S(r.length):null;return j(j(j({"aria-rowcount":u},this.bvAttrs),{},{id:this.safeId(),role:this.bvAttrs.role||"table"},i),a)}},render:function(t){var r=this.wrapperClasses,s=this.renderCaption,a=this.renderColgroup,i=this.renderThead,u=this.renderTbody,o=this.renderTfoot,f=[];this.isTableSimple?f.push(this.normalizeSlot()):(f.push(s?s():null),f.push(a?a():null),f.push(i?i():null),f.push(u?u():null),f.push(o?o():null));var v=t("table",{staticClass:"table b-table",class:this.tableClasses,attrs:this.tableAttrs,key:"b-table"},f.filter(F));return r.length>0?t("div",{class:r,style:this.wrapperStyles,key:"wrap"},[v]):v}});function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(s){Ft(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yt=P({tbodyTransitionHandlers:n(Y),tbodyTransitionProps:n(Y)},at),zt=m.extend({name:at,mixins:[w,B,C],provide:function(){return{bvTableRowGroup:this}},inject:{bvTable:{default:function(){return{}}}},inheritAttrs:!1,props:Yt,computed:{isTbody:function(){return!0},isDark:function(){return this.bvTable.dark},isStacked:function(){return this.bvTable.isStacked},isResponsive:function(){return this.bvTable.isResponsive},isStickyHeader:function(){return!1},hasStickyHeader:function(){return!this.isStacked&&this.bvTable.stickyHeader},tableVariant:function(){return this.bvTable.tableVariant},isTransitionGroup:function(){return this.tbodyTransitionProps||this.tbodyTransitionHandlers},tbodyAttrs:function(){return D({role:"rowgroup"},this.bvAttrs)},tbodyProps:function(){var t=this.tbodyTransitionProps;return t?D(D({},t),{},{tag:"tbody"}):{}}},render:function(t){var r={props:this.tbodyProps,attrs:this.tbodyAttrs};return this.isTransitionGroup?(r.on=this.tbodyTransitionHandlers||{},r.nativeOn=this.bvListeners):r.on=this.bvListeners,t(this.isTransitionGroup?"transition-group":"tbody",r,this.normalizeSlot())}});function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(s){Kt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut=P(kt($($($({},St),it),ot)),nt),Qt=m.extend({name:nt,mixins:[w,jt,_t,C,Mt,Lt],props:Ut,computed:{isTableSimple:function(){return!0}}});/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function Wt(){var e=Pt().proxy.$root;if(!e._$route){var t=Ct(!0).run(function(){return xt(Object.assign({},e.$router.currentRoute))});e._$route=t,e.$router.afterEach(function(r){Object.assign(t,r)})}return e._$route}const Jt=At({__name:"Proposal",setup(e){const t=Rt("$thor"),r=Wt(),s=k(null),a=k([]),i=k({name:"",params:[]}),u=k(!0),o={params:{set:new h.Function(L.methods.set)},authority:{add:new h.Function(R.methods.add),revoke:new h.Function(R.methods.revoke)},executor:{addApprover:new h.Function(l.methods.addApprover),revokeApprover:new h.Function(l.methods.revokeApprover),attachVotingContract:new h.Function(l.methods.attachVotingContract),detachVotingContract:new h.Function(l.methods.detachVotingContract)}},f=async()=>{const v=r.params.id;if(/^0x[0-9a-fA-f]{40}/i.test(v)){const T=await t.account(l.address).method(l.methods.proposals).call(v);if(parseInt(T.decoded.timeProposed)){const ct=await t.account(l.address).event(l.events.Proposal).filter([{proposalID:v}]).cache([l.address]).apply(0,100);let x=0,A="";a.value=[];for(const y of ct)y.decoded.action===l.actions.approved?a.value.push(y.meta.txOrigin):y.decoded.action===l.actions.executed&&(x=y.meta.blockTimestamp,A=y.meta.txOrigin);const G=T.decoded.target,c=T.decoded.data;let b="",p=null;switch(G.toLowerCase()){case L.address:b+="Params",c.slice(0,10)===o.params.set.signature?p=o.params.set:b+=`.${c.slice(0,10)}`;break;case R.address:b+="Authority",c.slice(0,10)===o.authority.add.signature?p=o.authority.add:c.slice(0,10)===o.authority.revoke.signature?p=o.authority.revoke:b+=`.${c.slice(0,10)}`;break;case l.address:b+="Executor",c.slice(0,10)===o.executor.addApprover.signature?p=o.executor.addApprover:c.slice(0,10)===o.executor.revokeApprover.signature?p=o.executor.revokeApprover:c.slice(0,10)===o.executor.attachVotingContract.signature||c.slice(0,10)===o.executor.attachVotingContract.signature?p=o.executor.attachVotingContract:b+=`.${c.slice(0,10)}`;break;default:b+=`${ut(G)}.${c.slice(0,10)}`}if(p){i.value.name=b+`.${p.canonicalName}`;const y=h.decodeParameters(p.definition.inputs,"0x"+c.slice(10));i.value.params=p.definition.inputs.map((I,lt)=>({name:I.name,type:I.type,value:y[lt]}))}else i.value.name=b;s.value={ID:v,Proposer:T.decoded.proposer,Proposed:new Date(parseInt(T.decoded.timeProposed)*1e3).toLocaleString()},A&&(s.value.Executor=A),x&&(s.value.Executed=new Date(x*1e3).toLocaleString()),s.value.Quorum=T.decoded.quorum}else s.value=null}u.value=!1};return f().catch(),{__sfc:!0,thor:t,route:r,proposal:s,approvers:a,input:i,loading:u,contracts:o,loadData:f}}});var qt=function(){var t=this,r=t._self._c,s=t._self._setupProxy;return r(z,{staticClass:"w-75 mx-auto"},[r(z,{staticClass:"mt-4"},[r(pt,{attrs:{show:s.loading}},[r(dt,{attrs:{"no-body":""},scopedSlots:t._u([{key:"header",fn:function(){return[r("div",{staticClass:"d-flex justify-content-between"},[r("h4",{staticClass:"my-auto"},[t._v("Proposal")]),r("span",[r(ft,{attrs:{variant:"primary",pill:""},on:{click:s.loadData}},[r(bt)],1)],1)])]},proxy:!0}])},[r(ht,{attrs:{flush:""}},[r(g,{directives:[{name:"show",rawName:"v-show",value:s.loading&&!s.proposal,expression:"loading && !proposal"}],scopedSlots:t._u([{key:"content",fn:function(){return[r("span",[t._v("LOADING")])]},proxy:!0}])}),!s.loading&&!s.proposal?r(g,{scopedSlots:t._u([{key:"content",fn:function(){return[r("span",[t._v("NOT FOUND")])]},proxy:!0}],null,!1,773415468)}):t._e(),s.proposal?[t._l(s.proposal,function(a,i){return r(g,{key:i,scopedSlots:t._u([{key:"content",fn:function(){return[r(O,{attrs:{cols:"2"}},[r("strong",[t._v(t._s(i)+":")])]),r(O,{staticClass:"text-monospace text-truncate",attrs:{cols:"10"}},[r("span",[t._v(t._s(a))])])]},proxy:!0}],null,!0)})}),s.approvers.length?r(g,{scopedSlots:t._u([{key:"content",fn:function(){return[r(O,{attrs:{cols:"2"}},[r("strong",[t._v("Approvers:")])]),r(O,{staticClass:"text-monospace text-truncate",attrs:{cols:"10"}},t._l(s.approvers,function(a){return r("p",[t._v(t._s(a))])}),0)]},proxy:!0}],null,!1,1548573268)}):t._e(),r(vt,[r(N,{staticClass:"justify-content-start"},[r(O,{staticClass:"text-monospace text-truncate"},[r("strong",[t._v(t._s(s.input.name))])])],1),s.input.params.length?r(N,{staticClass:"my-2"},[r(O,[r(Qt,{staticClass:"mb-0",attrs:{small:"",responsive:""}},[r(zt,t._l(s.input.params,function(a,i){return r(Ht,{key:i},[r(V,{staticClass:"text-monospace text-smaller"},[t._v(" "+t._s(a.name)+" ")]),r(V,{staticClass:"text-monospace text-smaller"},[t._v(" "+t._s(a.type)+" ")]),r(V,{staticClass:"text-monospace text-smaller"},[t._v(" "+t._s(a.value)+" ")])],1)}),1)],1)],1)],1):t._e()],1)]:t._e()],2)],1)],1)],1)],1)},Xt=[],Zt=Vt(Jt,qt,Xt,!1,null,null,null,null);const re=Zt.exports;export{re as default};
